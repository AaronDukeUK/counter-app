(()=>{"use strict";const e=()=>sessionStorage.getItem("count")?parseInt(sessionStorage.getItem("count")):0,t=e=>{document.querySelector(".count-display").textContent=e,sessionStorage.setItem("count",e)},n=n=>{let o=e();o=Math.max(0,Math.min(100,o+(n?1:-1))),t(o)},o=()=>{const t=document.querySelector(".count-input");t.readOnly=!t.readOnly,t.style.display=t.readOnly?"none":"block",t.readOnly||(t.type="number",t.value=e(),t.focus())};let s;const a=e=>{s=e.touches[0].clientY},r=e=>{const t=e.changedTouches[0].clientY,o=s-t;o>50?(n(!0),document.querySelectorAll(".bubble").forEach(((e,t)=>{e.style.animation=`moveThroughBubbles 0.5s ease forwards ${.1*t}s`,e.addEventListener("animationend",(()=>{e.style.animation="",e.style.transform="translateY(0)",e.style.opacity="1"}))}))):o<-50&&n(!1)};window.onload=()=>{(()=>{const e=document.querySelector(".splash");e.style.display="flex",setTimeout((()=>{e.style.opacity="0",setTimeout((()=>{e.style.display="none"}),1e3)}),1e3)})(),(()=>{const n=e();t(n)})(),document.querySelector(".count-input").style.display="none",document.querySelector(".count-input").addEventListener("input",(e=>{let n=e.target.value.replace(/\D/g,"");n=""===n?0:Math.min(100,parseInt(n)),e.target.value=n,t(n)})),document.querySelector(".count-input").addEventListener("keydown",(e=>{"Enter"===e.key&&o()})),document.querySelectorAll(".button").forEach((e=>{e.addEventListener("click",(()=>{const s=e.dataset.action;"reset"===s?confirm("Are you sure you want to reset the counter?")&&t(0):"edit"===s?o():"up"===s?n(!0):"down"===s&&n(!1)}))})),(()=>{const e=document.querySelector(".swipe-area");e.addEventListener("touchstart",a),e.addEventListener("touchend",r),e.addEventListener("touchmove",(e=>{e.target.closest(".swipe-area")&&e.preventDefault()}),{passive:!1})})()}})();